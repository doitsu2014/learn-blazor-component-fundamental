@using System.Globalization
@using LearningBlazorWeb.Shared

<div class="row">
    <div class="col">@Pizza.Name</div>
    <div class="col">@Pizza.Price.ToString(CultureInfo.InvariantCulture)</div>
    <div class="col">
        <img width="110" height="100" src="@(SpicinessImage(Pizza.Spiciness))" alt=""/>
    </div>
    <div class="col">
        <button class="@ButtonClass" @onclick="@(async () => Selected.InvokeAsync(Pizza))">
            @ButtonTitle
        </button>
    </div>
</div>

@code {

    [Parameter]
    public Pizza Pizza { get; set; }

    [Parameter]
    public string ButtonTitle { get; set; }

    [Parameter]
    public string ButtonClass { get; set; }

    [Parameter]
    public EventCallback<Pizza> Selected { get; set; }

    private string SpicinessImage(Spiciness spiciness) => $"/images/{spiciness.ToString().ToLower()}.png";
}